<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Fatigue Check</title>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; margin-top: 50px; }
    button { font-size: 20px; margin: 10px; padding: 15px 25px; }
  </style>
</head>
<body>
  <h1>Fatigue Self-Report</h1>
  <p>Every 5 minutes, please report how you feel:</p>
  <button onclick="sendFatigue('Not Fatigued')">Not Fatigued</button>
  <button onclick="sendFatigue('Fatigued')">Fatigued</button>

  <p id="status"></p>

  <script>
    async function sendFatigue(level) {
      try {
        const res = await fetch("https://aamani.pythonanywhere.com/log", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ fatigue: level })
        });
        const data = await res.json();
        document.getElementById("status").innerText = "Logged: " + level + " ✅";
      } catch (err) {
        document.getElementById("status").innerText = "Error logging fatigue ❌";
      }
    }

    // auto popup every 5 minutes
    setInterval(() => {
      alert("Time to report your fatigue level!");
    }, 5 * 60 * 1000);
  </script>
</body>
</html>